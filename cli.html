<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="keywords" content="Docker, Docker documentation, CLI, command line" />
  <title>Use the Docker command line</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</head>
<body>
<div id="header">
<h1 class="title">Use the Docker command line</h1>
</div>
<!-- This file is maintained within the docker/docker Github
     repository at https://github.com/docker/docker/. Make all
     pull requests against that repo. If you see this file in
     another repository, consider it read-only there, as it will
     periodically be overwritten by the definitive file. Pull
     requests which include edits to this file in other repositories
     will be rejected.
-->
<h1 id="docker">docker</h1>
<p>To list available commands, either run <code>docker</code> with no parameters or execute <code>docker help</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span>
<span class="kw">Usage</span>: docker [OPTIONS] COMMAND [ARG...]
       <span class="kw">docker</span> [ --help <span class="kw">|</span> <span class="kw">-v</span> <span class="kw">|</span> <span class="kw">--version</span> ]

<span class="kw">A</span> self-sufficient runtime for containers.

<span class="kw">Options</span>:
      <span class="kw">--config</span> string      Location of client config files (default <span class="st">&quot;/root/.docker&quot;</span>)
  <span class="kw">-D</span>, --debug              Enable debug mode
      <span class="kw">--help</span>               Print usage
  <span class="kw">-H</span>, --host value         Daemon socket(s) <span class="kw">to</span> connect to (default [])
  <span class="kw">-l</span>, --log-level string   Set the logging level (<span class="st">&quot;debug&quot;</span><span class="kw">|</span><span class="st">&quot;info&quot;</span><span class="kw">|</span><span class="st">&quot;warn&quot;</span><span class="kw">|</span><span class="st">&quot;error&quot;</span><span class="kw">|</span><span class="st">&quot;fatal&quot;</span>) <span class="kw">(default</span> <span class="st">&quot;info&quot;</span><span class="kw">)</span>
      <span class="kw">--tls</span>                Use TLS<span class="kw">;</span> <span class="kw">implied</span> by --tlsverify
      <span class="kw">--tlscacert</span> string   Trust certs signed only by this CA (default <span class="st">&quot;/root/.docker/ca.pem&quot;</span>)
      <span class="kw">--tlscert</span> string     Path to TLS certificate file (default <span class="st">&quot;/root/.docker/cert.pem&quot;</span>)
      <span class="kw">--tlskey</span> string      Path to TLS key file (default <span class="st">&quot;/root/.docker/key.pem&quot;</span>)
      <span class="kw">--tlsverify</span>          Use TLS and verify the remote
  <span class="kw">-v</span>, --version            Print version information and quit

<span class="kw">Commands</span>:
    <span class="kw">attach</span>    Attach to a running container
    <span class="co"># [â€¦]</span></code></pre></div>
<h2 id="description">Description</h2>
<p>Depending on your Docker system configuration, you may be required to preface each <code>docker</code> command with <code>sudo</code>. To avoid having to use <code>sudo</code> with the <code>docker</code> command, your system administrator can create a Unix group called <code>docker</code> and add users to it.</p>
<p>For more information about installing Docker or <code>sudo</code> configuration, refer to the <a href="https://docs.docker.com/engine/installation/">installation</a> instructions for your operating system.</p>
<h3 id="environment-variables">Environment variables</h3>
<p>For easy reference, the following list of environment variables are supported by the <code>docker</code> command line:</p>
<ul>
<li><code>DOCKER_API_VERSION</code> The API version to use (e.g. <code>1.19</code>)</li>
<li><code>DOCKER_CONFIG</code> The location of your client configuration files.</li>
<li><code>DOCKER_CERT_PATH</code> The location of your authentication keys.</li>
<li><code>DOCKER_DRIVER</code> The graph driver to use.</li>
<li><code>DOCKER_HOST</code> Daemon socket to connect to.</li>
<li><code>DOCKER_NOWARN_KERNEL_VERSION</code> Prevent warnings that your Linux kernel is unsuitable for Docker.</li>
<li><code>DOCKER_RAMDISK</code> If set this will disable 'pivot_root'.</li>
<li><code>DOCKER_TLS_VERIFY</code> When set Docker uses TLS and verifies the remote.</li>
<li><code>DOCKER_CONTENT_TRUST</code> When set Docker uses notary to sign and verify images. Equates to <code>--disable-content-trust=false</code> for build, create, pull, push, run.</li>
<li><code>DOCKER_CONTENT_TRUST_SERVER</code> The URL of the Notary server to use. This defaults to the same URL as the registry.</li>
<li><code>DOCKER_HIDE_LEGACY_COMMANDS</code> When set, Docker hides &quot;legacy&quot; top-level commands (such as <code>docker rm</code>, and <code>docker pull</code>) in <code>docker help</code> output, and only <code>Management commands</code> per object-type (e.g., <code>docker container</code>) are printed. This may become the default in a future release, at which point this environment-variable is removed.</li>
<li><code>DOCKER_TMPDIR</code> Location for temporary Docker files.</li>
</ul>
<p>Because Docker is developed using Go, you can also use any environment variables used by the Go runtime. In particular, you may find these useful:</p>
<ul>
<li><code>HTTP_PROXY</code></li>
<li><code>HTTPS_PROXY</code></li>
<li><code>NO_PROXY</code></li>
</ul>
<p>These Go environment variables are case-insensitive. See the <a href="http://golang.org/pkg/net/http/">Go specification</a> for details on these variables.</p>
<h3 id="configuration-files">Configuration files</h3>
<p>By default, the Docker command line stores its configuration files in a directory called <code>.docker</code> within your <code>$HOME</code> directory. However, you can specify a different location via the <code>DOCKER_CONFIG</code> environment variable or the <code>--config</code> command line option. If both are specified, then the <code>--config</code> option overrides the <code>DOCKER_CONFIG</code> environment variable. For example:</p>
<pre><code>docker --config ~/testconfigs/ ps</code></pre>
<p>Instructs Docker to use the configuration files in your <code>~/testconfigs/</code> directory when running the <code>ps</code> command.</p>
<p>Docker manages most of the files in the configuration directory and you should not modify them. However, you <em>can modify</em> the <code>config.json</code> file to control certain aspects of how the <code>docker</code> command behaves.</p>
<p>Currently, you can modify the <code>docker</code> command behavior using environment variables or command-line options. You can also use options within <code>config.json</code> to modify some of the same behavior. When using these mechanisms, you must keep in mind the order of precedence among them. Command line options override environment variables and environment variables override properties you specify in a <code>config.json</code> file.</p>
<p>The <code>config.json</code> file stores a JSON encoding of several properties:</p>
<p>The property <code>HttpHeaders</code> specifies a set of headers to include in all messages sent from the Docker client to the daemon. Docker does not try to interpret or understand these header; it simply puts them into the messages. Docker does not allow these headers to change any headers it sets for itself.</p>
<p>The property <code>psFormat</code> specifies the default format for <code>docker ps</code> output. When the <code>--format</code> flag is not provided with the <code>docker ps</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default table format. For a list of supported formatting directives, see the <a href="ps.md"><strong>Formatting</strong> section in the <code>docker ps</code> documentation</a></p>
<p>The property <code>imagesFormat</code> specifies the default format for <code>docker images</code> output. When the <code>--format</code> flag is not provided with the <code>docker images</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default table format. For a list of supported formatting directives, see the <a href="images.md"><strong>Formatting</strong> section in the <code>docker images</code> documentation</a></p>
<p>The property <code>pluginsFormat</code> specifies the default format for <code>docker plugin ls</code> output. When the <code>--format</code> flag is not provided with the <code>docker plugin ls</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default table format. For a list of supported formatting directives, see the <a href="plugin_ls.md"><strong>Formatting</strong> section in the <code>docker plugin ls</code> documentation</a></p>
<p>The property <code>servicesFormat</code> specifies the default format for <code>docker service ls</code> output. When the <code>--format</code> flag is not provided with the <code>docker service ls</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default json format. For a list of supported formatting directives, see the <a href="service_ls.md"><strong>Formatting</strong> section in the <code>docker service ls</code> documentation</a></p>
<p>The property <code>serviceInspectFormat</code> specifies the default format for <code>docker service inspect</code> output. When the <code>--format</code> flag is not provided with the <code>docker service inspect</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default json format. For a list of supported formatting directives, see the <a href="service_inspect.md"><strong>Formatting</strong> section in the <code>docker service inspect</code> documentation</a></p>
<p>The property <code>statsFormat</code> specifies the default format for <code>docker stats</code> output. When the <code>--format</code> flag is not provided with the <code>docker stats</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default table format. For a list of supported formatting directives, see <a href="stats.md"><strong>Formatting</strong> section in the <code>docker stats</code> documentation</a></p>
<p>The property <code>secretFormat</code> specifies the default format for <code>docker secret ls</code> output. When the <code>--format</code> flag is not provided with the <code>docker secret ls</code> command, Docker's client uses this property. If this property is not set, the client falls back to the default table format. For a list of supported formatting directives, see <a href="secret_ls.md"><strong>Formatting</strong> section in the <code>docker secret ls</code> documentation</a></p>
<p>The property <code>credsStore</code> specifies an external binary to serve as the default credential store. When this property is set, <code>docker login</code> will attempt to store credentials in the binary specified by <code>docker-credential-&lt;value&gt;</code> which is visible on <code>$PATH</code>. If this property is not set, credentials will be stored in the <code>auths</code> property of the config. For more information, see the <a href="login.md#credentials-store"><strong>Credentials store</strong> section in the <code>docker login</code> documentation</a></p>
<p>The property <code>credHelpers</code> specifies a set of credential helpers to use preferentially over <code>credsStore</code> or <code>auths</code> when storing and retrieving credentials for specific registries. If this property is set, the binary <code>docker-credential-&lt;value&gt;</code> will be used when storing or retrieving credentials for a specific registry. For more information, see the <a href="login.md#credential-helpers"><strong>Credential helpers</strong> section in the <code>docker login</code> documentation</a></p>
<p>Once attached to a container, users detach from it and leave it running using the using <code>CTRL-p CTRL-q</code> key sequence. This detach key sequence is customizable using the <code>detachKeys</code> property. Specify a <code>&lt;sequence&gt;</code> value for the property. The format of the <code>&lt;sequence&gt;</code> is a comma-separated list of either a letter [a-Z], or the <code>ctrl-</code> combined with any of the following:</p>
<ul>
<li><code>a-z</code> (a single lowercase alpha character )</li>
<li><code>@</code> (at sign)</li>
<li><code>[</code> (left bracket)</li>
<li><code>\\</code> (two backward slashes)</li>
<li><code>_</code> (underscore)</li>
<li><code>^</code> (caret)</li>
</ul>
<p>Your customization applies to all containers started in with your Docker client. Users can override your custom or the default key sequence on a per-container basis. To do this, the user specifies the <code>--detach-keys</code> flag with the <code>docker attach</code>, <code>docker exec</code>, <code>docker run</code> or <code>docker start</code> command.</p>
<p>Following is a sample <code>config.json</code> file:</p>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;HttpHeaders&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;MyHeader&quot;</span><span class="fu">:</span> <span class="st">&quot;MyValue&quot;</span>
  <span class="fu">},</span>
  <span class="dt">&quot;psFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.ID}}</span><span class="ch">\\</span><span class="st">t{{.Image}}</span><span class="ch">\\</span><span class="st">t{{.Command}}</span><span class="ch">\\</span><span class="st">t{{.Labels}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;imagesFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.ID}}</span><span class="ch">\\</span><span class="st">t{{.Repository}}</span><span class="ch">\\</span><span class="st">t{{.Tag}}</span><span class="ch">\\</span><span class="st">t{{.CreatedAt}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;pluginsFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.ID}}</span><span class="ch">\t</span><span class="st">{{.Name}}</span><span class="ch">\t</span><span class="st">{{.Enabled}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;statsFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.Container}}</span><span class="ch">\t</span><span class="st">{{.CPUPerc}}</span><span class="ch">\t</span><span class="st">{{.MemUsage}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;servicesFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.ID}}</span><span class="ch">\t</span><span class="st">{{.Name}}</span><span class="ch">\t</span><span class="st">{{.Mode}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;secretFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;table {{.ID}}</span><span class="ch">\t</span><span class="st">{{.Name}}</span><span class="ch">\t</span><span class="st">{{.CreatedAt}}</span><span class="ch">\t</span><span class="st">{{.UpdatedAt}}&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;serviceInspectFormat&quot;</span><span class="fu">:</span> <span class="st">&quot;pretty&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;detachKeys&quot;</span><span class="fu">:</span> <span class="st">&quot;ctrl-e,e&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;credsStore&quot;</span><span class="fu">:</span> <span class="st">&quot;secretservice&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;credHelpers&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;awesomereg.example.org&quot;</span><span class="fu">:</span> <span class="st">&quot;hip-star&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;unicorn.example.com&quot;</span><span class="fu">:</span> <span class="st">&quot;vcbait&quot;</span>
  <span class="fu">}</span>
<span class="fu">}</span></code></pre></div>
<h3 id="notary">Notary</h3>
<p>If using your own notary server and a self-signed certificate or an internal Certificate Authority, you need to place the certificate at <code>tls/&lt;registry_url&gt;/ca.crt</code> in your docker config directory.</p>
<p>Alternatively you can trust the certificate globally by adding it to your system's list of root Certificate Authorities.</p>
<h2 id="examples">Examples</h2>
<h3 id="display-help-text">Display help text</h3>
<p>To list the help on any command just execute the command, followed by the <code>--help</code> option.</p>
<pre><code>$ docker run --help

Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]

Run a command in a new container

Options:
      --add-host value             Add a custom host-to-IP mapping (host:ip) (default [])
  -a, --attach value               Attach to STDIN, STDOUT or STDERR (default [])
...</code></pre>
<h3 id="option-types">Option types</h3>
<p>Single character command line options can be combined, so rather than typing <code>docker run -i -t --name test busybox sh</code>, you can write <code>docker run -it --name test busybox sh</code>.</p>
<h4 id="boolean">Boolean</h4>
<p>Boolean options take the form <code>-d=false</code>. The value you see in the help text is the default value which is set if you do <strong>not</strong> specify that flag. If you specify a Boolean flag without a value, this will set the flag to <code>true</code>, irrespective of the default value.</p>
<p>For example, running <code>docker run -d</code> will set the value to <code>true</code>, so your container <strong>will</strong> run in &quot;detached&quot; mode, in the background.</p>
<p>Options which default to <code>true</code> (e.g., <code>docker build --rm=true</code>) can only be set to the non-default value by explicitly setting them to <code>false</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> build --rm=false .</code></pre></div>
<h4 id="multi">Multi</h4>
<p>You can specify options like <code>-a=[]</code> multiple times in a single command line, for example in these commands:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> run -a stdin -a stdout -i -t ubuntu /bin/bash

$ <span class="kw">docker</span> run -a stdin -a stdout -a stderr ubuntu /bin/ls</code></pre></div>
<p>Sometimes, multiple options can call for a more complex value string as for <code>-v</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> run -v /host:/container example/mysql</code></pre></div>
<blockquote>
<p><strong>Note</strong>: Do not use the <code>-t</code> and <code>-a stderr</code> options together due to limitations in the <code>pty</code> implementation. All <code>stderr</code> in <code>pty</code> mode simply goes to <code>stdout</code>.</p>
</blockquote>
<h4 id="strings-and-integers">Strings and Integers</h4>
<p>Options like <code>--name=&quot;&quot;</code> expect a string, and they can only be specified once. Options like <code>-c=0</code> expect an integer, and they can only be specified once.</p>
</body>
</html>
